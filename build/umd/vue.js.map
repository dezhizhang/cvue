{"version":3,"file":"vue.js","sources":["../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["class Observer {\n  constructor(value) {\n    this.walk(value);\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    keys.forEach((key) => {\n      defineReactive(data, key, data[key]);\n    });\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value;\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      observe(newValue);\n      \n      value = newValue;\n    },\n  });\n}\n\nexport function observe(data) {\n  console.log(data);\n  if (typeof data !== \"object\" && data !== null) {\n    return;\n  }\n\n  return new Observer(data);\n}\n","import { observe } from \"./observer/index\";\n\nexport function initState(vm) {\n  const options = vm.$options;\n  if (options.props) {\n    initProps(vm);\n  }\n  if (options.methods) {\n    initMethods(vm);\n  }\n  if (options.data) {\n    initData(vm);\n  }\n  if (options.computed) {\n    initComputed(vm);\n  }\n  if (options.watch) {\n    initWatch();\n  }\n}\n\nfunction initProps() {\n\n}\n\nfunction initMethods() {\n\n}\n\nfunction initData(vm) {\n    let data = vm.$options.data;\n    vm._data = data = typeof data == 'function' ? data.call(vm):data;\n    //数据\n    observe(data);\n    \n}\n\nfunction initComputed() {\n\n}\n\nfunction initWatch() {\n\n}\n","import { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (optons) {\n    const vm = this;\n    vm.$options = optons;\n\n    // 初始化状态\n    initState(vm);\n  };\n}\n","import { initMixin } from \"./init\";\n\n\nfunction Vue(optons) {\n   this._init(optons);\n\n}\n\ninitMixin(Vue);\n\nexport default Vue;\n"],"names":["Observer","value","walk","data","keys","Object","forEach","key","defineReactive","observe","defineProperty","get","set","newValue","console","log","initState","vm","options","$options","props","methods","initData","computed","watch","_data","call","initMixin","Vue","prototype","_init","optons"],"mappings":"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"}