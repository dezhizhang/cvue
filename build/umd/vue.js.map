{"version":3,"file":"vue.js","sources":["../../src/compile/parse.js","../../src/compile/generate.js","../../src/compile/index.js","../../src/observer/array.js","../../src/observer/index.js","../../src/utils.js","../../src/state.js","../../src/vdom/patch.js","../../src/lifcycle.js","../../src/init.js","../../src/vdom/index.js","../../src/global-api/index.js","../../src/index.js"],"sourcesContent":["/*\n * :file description: \n * :name: /cvue/src/compile/parse.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-02 21:08:47\n * :last editor: 张德志\n * :date last edited: 2022-07-25 06:03:26\n */\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; //标签名\n// ?：匹配不捕获\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //  <my:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); //标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); //匹配标签结尾的</div>\nconst attribute =\n    /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; //匹配属性的   aaa\nconst startTagClose = /^\\s*(\\/?)>/; //匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\n//数据结构  树、栈、链表、队列\n\nexport function parseHTML(html) {\n    let root;\n    //标签闭合是否符合预期\n    let stack = [];\n    let currentParent;\n    function parseStartTag() {\n        const start = html.match(startTagOpen);\n        if (start) {\n            let match = {\n                tagName: start[1],\n                attrs: [],\n            };\n            \n            advance(start[0].length);\n            let end;\n            let attr;\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {  \n                match.attrs.push({\n                    name: attr[1],\n                    value: attr[3] || attr[4] || attr[5],\n                });\n                advance(attr[0].length);\n            }\n            if (end) {\n                advance(end[0].length);\n                return match;\n            }\n        }\n    }\n   \n    function createASTElement(tagName, attrs) {\n        return {\n            tag: tagName, //标签名\n            type: 1, //元素类型\n            children: [], //孩子列表\n            attrs, //属性集合\n            parent: null, //父元素\n        };\n    }\n  \n    function start(tagName, attrs) {\n        let element = createASTElement(tagName, attrs);\n        if (!root) {\n            root = element;\n        }\n        currentParent = element; //当前解析的标签 保存起来\n        stack.push(element);\n    }\n    function end(tagName) {\n        //在结尾标签处  创建父子关系\n        let element = stack.pop(); //取出栈中的最后一个\n        currentParent = stack[stack.length - 1];\n        if (currentParent) {\n            //在闭合时可以知道这个标签的父亲是谁\n            element.parent = currentParent;\n            currentParent.children.push(element);\n        }\n    }\n    function chars(text) {\n        //把空格删掉\n        text = text.replace(/\\s/g, \"\");\n        if (text) {\n            currentParent.children.push({\n                type: 3,\n                text,\n            });\n        }\n    }\n\n    while (html) {\n        //只要html不为空字符串，就一直解析\n        let textEnd = html.indexOf(\"<\");\n        if (textEnd == 0) {\n            const startTagMatch = parseStartTag(); //开始标签匹配的结果  处理开始\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs);\n                continue;\n            }\n\n            const endTagMatch = html.match(endTag);\n            if (endTagMatch) {\n                //处理结束标签\n                advance(endTagMatch[0].length);\n                end(endTagMatch[1]);\n                continue;\n            }\n        }\n        let text;\n        if (textEnd > 0) {\n            //是文本\n            text = html.substring(0, textEnd);\n        }\n\n        if (text) {\n            //处理文本\n            advance(text.length);\n            chars(text);\n        }\n    }\n    function advance(n) {\n        //将字符串进行截取操作，在更新内容\n        html = html.substring(n);\n    }\n\n    return root;\n}\n","/*\n * :file description:\n * :name: /cvue/src/compile/generate.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-03 15:55:05\n * :last editor: 张德志\n * :date last edited: 2022-07-26 05:39:38\n */\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\nfunction genProps(attrs) {\n  let str = \"\";\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    console.log(\"attr\", attr);\n    if (attr.name === \"style\") {\n      let obj = {};\n      attr.value.split(\";\").forEach((item) => {\n        let [key, value] = item.split(\":\");\n        obj[key] = value;\n      });\n      attr.value = obj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`;\n  }\n  return `{${str.slice(0, -1)}}`;\n}\n\nfunction genChildren(ast) {\n  let children = ast.children;\n  if (children) {\n    return children.map((child) => gen(child)).join(\",\");\n  }\n}\n\nfunction gen(node) {\n  if (node.type === 1) {\n    return generate(node);\n  } else {\n    let text = node.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    }\n\n    let tokens = []; // 存放每一段的代码\n    let lastIndex = (defaultTagRE.lastIndex = 0);\n    let match, index;\n    while ((match = defaultTagRE.exec(text))) {\n      index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\n    }\n\n    return `_v(${tokens.join(\"+\")})`;\n  }\n}\n\nexport function generate(ast) {\n  let children = genChildren(ast);\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length ? `${genProps(ast.attrs)}` : \"undefined\"\n  },${children ? `${children}` : \"\"})`;\n\n  return code;\n}\n","/*\n * :file description: \n * :name: /cvue/src/compile/index.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-02 16:40:54\n * :last editor: 张德志\n * :date last edited: 2022-07-26 05:46:17\n */\nimport { parseHTML } from \"./parse\";\nimport { generate } from \"./generate\";\n\nexport function compileToFunction(template) {\n  //解析html模板\n  let ast = parseHTML(template);\n\n  console.log('ast',ast);\n  // 生成code\n  let code = generate(ast);\n\n  // 将字符串变成函数，限制取值范围\n  let render = new Function(`with(this){return ${code}}`);\n\n  return render;\n  \n}\n","let oldArrayProtoMethod = Array.prototype;\n\nexport let arrayMethods = Object.create(oldArrayProtoMethod);\n\nlet methods = [\"push\", \"pop\", \"shift\", \"unshift\", \"reverse\", \"sort\", \"splice\"];\n\nmethods.forEach((method) => {\n  arrayMethods[method] = function (...args) {\n    const result = oldArrayProtoMethod[method].apply(this, args);\n    let inserted;\n    let ob = this.__ob__;\n    \n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n      default:\n        break;\n    }\n    if(inserted) ob.observeArray(inserted);\n    return result;\n  };\n});\n","import { arrayMethods } from \"./array\";\n\nclass Observer {\n  constructor(value) {\n    Object.defineProperty(value, \"__ob__\", {\n      enumerable: false,\n      configurable: false,\n      value: this,\n    });\n\n    if (Array.isArray(value)) {\n      value.__proto__ = arrayMethods;\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n  observeArray(value) {\n    value.forEach((item) => {\n      observe(item);\n    });\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    keys.forEach((key) => {\n      defineReactive(data, key, data[key]);\n    });\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value;\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      observe(newValue);\n\n      value = newValue;\n    },\n  });\n}\n\nexport function observe(data) {\n  if (typeof data !== \"object\" && data !== null) {\n    return data;\n  }\n  if(data.__ob__) {\n    return data;\n  }\n\n  return new Observer(data);\n}\n","/*\n * :file description: \n\n * :name: /cvue/src/utils.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-02 14:41:16\n * :last editor: 张德志\n * :date last edited: 2022-07-31 07:37:44\n */\nexport function proxy(vm, data, key) {\n\n  Object.defineProperty(vm,key, {\n    get() {\n      return vm[data][key];\n    },\n    set(newValue) {\n      vm[data][key] = newValue;\n    },\n  });\n}\n\n\n\n\nexport const LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'update',\n  'beforeDestory',\n  'destroyed',\n];\n\nlet strats = {};\n\nstrats.data = function() {\n  \n}\n\nstrats.computed = function() {\n\n}\n\nstrats.watch = function() {\n\n}\n\n\nLIFECYCLE_HOOKS.forEach(hook => {\n  strats[hook] = mergeHook\n})\n\nfunction mergeHook(parentVal,childValue) {\n  if(childValue) {\n    if(parentVal) {\n      return parentVal.concat(childValue);\n    }else {\n      return [childValue];\n    }\n  }else {\n    return parentVal;\n  }\n}\n\nexport function mergeOptions(parent,child) {\n  let options = {};\n\n  for(let key in parent) {\n    mergeField(key);\n  }\n\n  for(let key in child) {\n    if(parent && !parent.hasOwnProperty(key)) {\n      mergeField(key);\n    }\n  }\n\n  function mergeField(key) {\n    if(strats[key]) {\n      options[key] = strats[key](parent[key],child[key])\n    }else {\n\n    }\n  }\n  return options;\n\n}\n","import { observe } from \"./observer/index\";\nimport { proxy } from './utils';\n\nexport function initState(vm) {\n  const options = vm.$options;\n  if (options.props) {\n    initProps(vm);\n  }\n  if (options.methods) {\n    initMethods(vm);\n  }\n  if (options.data) {\n    initData(vm);\n  }\n  if (options.computed) {\n    initComputed(vm);\n  }\n  if (options.watch) {\n    initWatch();\n  }\n}\n\nfunction initProps() {\n\n}\n\nfunction initMethods() {\n\n}\n\nfunction initData(vm) {\n    let data = vm.$options.data;\n    vm._data = data = typeof data == 'function' ? data.call(vm):data;\n    \n    for(let key in data) {\n      proxy(vm,'_data',key)\n    }\n    //数据\n    observe(data);\n    \n}\n\nfunction initComputed() {\n\n}\n\nfunction initWatch() {\n\n}\n","/*\n * :file description: \n * :name: /cvue/src/vdom/patch.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-26 06:43:13\n * :last editor: 张德志\n * :date last edited: 2022-07-28 06:21:32\n */\n\n\nexport function patch(oldVnode,vnode) {\n    // 将虚拟节点转换成真实节点\n    let el = createElm(vnode);\n    updateProperties(vnode);\n    let parentElm = oldVnode.parentNode;\n    parentElm.insertBefore(el,oldVnode.nextSibling);\n    // 删除老节点\n    parentElm.removeChild(oldVnode);\n}\n\n\nfunction createElm(vnode) {\n    let { tag,children,key,data,text} = vnode;\n    if(typeof tag === 'string') {\n        vnode.el = document.createElement(tag);\n        children.forEach(child => {\n            vnode.el.appendChild(createElm(child));\n        })\n    }else {\n        vnode.el = document.createTextNode(text);\n    }\n    return vnode.el;\n}\n\nfunction updateProperties(vnode) {\n    let el = vnode.el;\n    let newProps = vnode.data || {};\n    for(let key in newProps) {\n        if(key == 'style') {\n            for(let styleName in newProps.key) {\n                el.style[styleName] = newProps.style[styleName];\n            }\n        }else if(key == 'class') {\n            el.className = el.class;\n        }else {\n            el.setAttribute(key,newProps[key]);\n        }\n    }\n}","/*\n * :file description: \n * :name: /cvue/src/lifcycle.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-26 05:53:23\n * :last editor: 张德志\n * :date last edited: 2022-07-26 06:58:21\n */\n\nimport { patch } from './vdom/patch';\n\nexport function lifcycleMixin(Vue) {\n   Vue.prototype._update = function(vnode) {\n    const vm = this;\n    patch(vm.$el,vnode);\n   }\n}\n\nexport function mountComponent(vm,el) {\n    // 先调用render方法创建虚拟节点\n    vm._update(vm._render())\n}\n\n// vue渲染流程\n//1先初始化数据\n//2将模板进行编译\n//3生成虚拟dom\n\n\n","/*\n * :file description:\n * :name: /cvue/src/init.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-01 06:06:37\n * :last editor: 张德志\n * :date last edited: 2022-07-26 06:43:02\n */\nimport { compileToFunction } from \"./compile/index\";\nimport { initState } from \"./state\";\nimport { mountComponent } from \"./lifcycle\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (optons) {\n    const vm = this;\n    vm.$options = optons;\n\n    // 初始化状态\n    initState(vm);\n\n    //如果当前有el属性说明要渲染模板\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = vm.$options;\n    el = document.querySelector(el);\n    vm.$el = el;\n\n    if (!options.render) {\n      let template = options.template;\n      if (!template && el) {\n        template = el.outerHTML;\n      }\n      const render = compileToFunction(template);\n      options.render = render;\n    }\n    mountComponent(vm, el);\n  };\n}\n","/*\n * :file description:\n * :name: /cvue/src/vdom/index.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-26 06:02:25\n * :last editor: 张德志\n * :date last edited: 2022-07-26 06:33:57\n */\n\nexport function renderMinix(Vue) {\n  Vue.prototype._c = function () {\n    return createElement(...arguments);\n  };\n  Vue.prototype._s = function (value) {\n    return value == null\n      ? \"\"\n      : typeof value == \"object\"\n      ? JSON.stringify(value)\n      : value;\n  };\n  Vue.prototype._v = function (text) {\n    return createTextVnode(text);\n  };\n  Vue.prototype._render = function () {\n    const vm = this;\n    const render = vm.$options.render;\n    let vnode = render.call(vm);\n    return vnode;\n  };\n}\n\nfunction createElement(tag, data = {}, ...children) {\n  return vnode(tag, data, data.key, children);\n}\n\nfunction createTextVnode(text) {\n  return vnode(undefined, undefined, undefined, undefined, text);\n}\n\n// 用来产生虚拟dom\nfunction vnode(tag, data, key, children, text) {\n  return {\n    tag,\n    data,\n    key,\n    children,\n    text,\n  };\n}\n","/*\n * :file description: \n * :name: /cvue/src/global-api/index.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-28 06:29:11\n * :last editor: 张德志\n * :date last edited: 2022-07-31 07:38:28\n */\nimport { mergeOptions } from '../utils'\nexport function initGlobalApi(Vue) {\n    Vue.options = {};\n    Vue.mixin = function(mixin) {\n        this.options = mergeOptions(this.options,mixin)\n        console.log('------',this.options)\n    }\n}","/*\n * :file description: \n * :name: /cvue/src/index.js\n * :author: 张德志\n * :copyright: (c) 2022, Tungee\n * :date created: 2022-07-01 05:49:48\n * :last editor: 张德志\n * :date last edited: 2022-07-31 07:12:18\n */\nimport { initMixin } from \"./init\";\nimport { lifcycleMixin } from './lifcycle';\nimport { renderMinix } from  './vdom/index';\nimport { initGlobalApi } from './global-api/index';\nfunction Vue(optons) {\n   this._init(optons);\n\n}\n\ninitMixin(Vue);\n//混合生命周期 渲染\nlifcycleMixin(Vue);\n\n//\nrenderMinix(Vue);\n\n//初始化全局api\ninitGlobalApi(Vue);\n\n\nexport default Vue;\n"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","root","stack","currentParent","parseStartTag","start","match","tagName","attrs","advance","length","end","attr","push","name","value","createASTElement","tag","type","children","parent","element","pop","chars","text","replace","textEnd","indexOf","startTagMatch","endTagMatch","substring","n","defaultTagRE","genProps","str","i","console","log","obj","split","forEach","item","key","JSON","stringify","slice","genChildren","ast","map","child","gen","join","node","generate","test","tokens","lastIndex","index","exec","trim","code","compileToFunction","template","render","Function","oldArrayProtoMethod","Array","prototype","arrayMethods","Object","create","methods","method","args","result","apply","inserted","ob","__ob__","observeArray","Observer","defineProperty","enumerable","configurable","isArray","__proto__","walk","observe","data","keys","defineReactive","get","set","newValue","proxy","vm","LIFECYCLE_HOOKS","strats","computed","watch","hook","mergeHook","parentVal","childValue","concat","mergeOptions","options","mergeField","hasOwnProperty","initState","$options","props","initData","_data","call","patch","oldVnode","vnode","el","createElm","updateProperties","parentElm","parentNode","insertBefore","nextSibling","removeChild","document","createElement","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","lifcycleMixin","Vue","_update","$el","mountComponent","_render","initMixin","_init","optons","$mount","querySelector","outerHTML","renderMinix","_c","arguments","_s","_v","createTextVnode","undefined","initGlobalApi","mixin"],"mappings":"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"}