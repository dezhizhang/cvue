{"version":3,"file":"vue.js","sources":["../../src/compile/parse.js","../../src/compile/index.js","../../src/observer/array.js","../../src/observer/index.js","../../src/utils.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\nconst attribute =\n  /^\\s*([^\\s”‘<>\\/=]+)(?:\\s*(=)\\s*(?:”([^”]*)”+|'([^’]*)’+|([^\\s”‘=<>`]+)))?/;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\nconst startTagClode = /^\\s*(\\/?)>/;\n\nexport function parseHTML(html) {\n  let root;\n  let currentParent;\n  let stack = [];\n\n  function createAstElement(tagName, attrs) {\n    return {\n      tag: tagName,\n      type: 1,\n      children: [],\n      attrs,\n      parent: null,\n    };\n  }\n\n  function start(tagName, attrs) {\n    let element = createAstElement(tagName, attrs);\n    if (!root) {\n      root = element;\n    }\n    currentParent = element;\n    stack.push(tagName);\n  }\n\n  function chars(text) {\n    text = text.replace(/\\s/g, \"\");\n    if (text) {\n      currentParent.children.push({\n        type: 3,\n        text,\n      });\n    }\n  }\n\n  function end(tagName) {\n    let element = stack.pop();\n    currentParent = stack[stack.length - 1];\n    if (currentParent) {\n      element.parent = currentParent;\n      currentParent.children.push(element);\n    }\n  }\n\n  while (html) {\n    let textEnd = html.indexOf(\"<\");\n    if (textEnd === 0) {\n      const startTagMatch = parseStartTag(html);\n      console.log(startTagMatch);\n      debugger;\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n      }\n      const endTagMatch = html.match(endTag);\n      console.log(endTagMatch);\n      if (endTagMatch) {\n        html = advance(html, endTagMatch[0].length);\n        end(endTagMatch[1]);\n      }\n    }\n    let text;\n    if (textEnd > 0) {\n      text = html.substring(0, textEnd);\n    }\n    if (text) {\n      html = advance(html, text.length);\n\n      chars(text);\n    }\n  }\n  return root;\n}\n\nfunction parseStartTag(html) {\n  const start = html.match(startTagOpen);\n  if (start) {\n    let match = {\n      tagName: start[1],\n      attrs: [],\n    };\n    html = advance(html, start[0].length);\n    let end;\n    let attr;\n    while (\n      !(end = html.match(startTagClode)) &&\n      (attr = html.match(attribute))\n    ) {\n      match.attrs.push({\n        name: attr[1],\n        value: attr[3] || attr[4] || attr[5],\n      });\n      html = advance(html, attr[0].length);\n    }\n    if (end) {\n      html = advance(html, end[0].length);\n      return match;\n    }\n  }\n\n  function advance(html, n) {\n    html = html.substring(n);\n    return html;\n  }\n}\n","import { parseHTML } from \"./parse\";\n\nexport function compileToFunction(template) {\n    const ast = parseHTML(template);\n    console.log(ast);\n    \n//   const ast = parseHTML(template);\n//   console.log(ast);\n}\n","let oldArrayProtoMethod = Array.prototype;\n\nexport let arrayMethods = Object.create(oldArrayProtoMethod);\n\nlet methods = [\"push\", \"pop\", \"shift\", \"unshift\", \"reverse\", \"sort\", \"splice\"];\n\nmethods.forEach((method) => {\n  arrayMethods[method] = function (...args) {\n    const result = oldArrayProtoMethod[method].apply(this, args);\n    let inserted;\n    let ob = this.__ob__;\n    \n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n      default:\n        break;\n    }\n    if(inserted) ob.observeArray(inserted);\n    return result;\n  };\n});\n","import { arrayMethods } from \"./array\";\n\nclass Observer {\n  constructor(value) {\n    Object.defineProperty(value, \"__ob__\", {\n      enumerable: false,\n      configurable: false,\n      value: this,\n    });\n\n    if (Array.isArray(value)) {\n      value.__proto__ = arrayMethods;\n      this.observeArray(value);\n    } else {\n      this.walk(value);\n    }\n  }\n  observeArray(value) {\n    value.forEach((item) => {\n      observe(item);\n    });\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    keys.forEach((key) => {\n      defineReactive(data, key, data[key]);\n    });\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value;\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      observe(newValue);\n\n      value = newValue;\n    },\n  });\n}\n\nexport function observe(data) {\n  if (typeof data !== \"object\" && data !== null) {\n    return data;\n  }\n  if(data.__ob__) {\n    return data;\n  }\n\n  return new Observer(data);\n}\n","export function proxy(vm, data, key) {\n\n  Object.defineProperty(vm,key, {\n    get() {\n      return vm[data][key];\n    },\n    set(newValue) {\n      vm[data][key] = newValue;\n    },\n  });\n}\n","import { observe } from \"./observer/index\";\nimport { proxy } from './utils';\n\nexport function initState(vm) {\n  const options = vm.$options;\n  if (options.props) {\n    initProps(vm);\n  }\n  if (options.methods) {\n    initMethods(vm);\n  }\n  if (options.data) {\n    initData(vm);\n  }\n  if (options.computed) {\n    initComputed(vm);\n  }\n  if (options.watch) {\n    initWatch();\n  }\n}\n\nfunction initProps() {\n\n}\n\nfunction initMethods() {\n\n}\n\nfunction initData(vm) {\n    let data = vm.$options.data;\n    vm._data = data = typeof data == 'function' ? data.call(vm):data;\n    \n    for(let key in data) {\n      proxy(vm,'_data',key)\n    }\n    //数据\n    observe(data);\n    \n}\n\nfunction initComputed() {\n\n}\n\nfunction initWatch() {\n\n}\n","import { compileToFunction } from \"./compile/index\";\nimport { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (optons) {\n    const vm = this;\n    vm.$options = optons;\n\n    // 初始化状态\n    initState(vm);\n\n    //如果当前有el属性说明要渲染模板\n    if(vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n  Vue.prototype.$mount = function(el) {\n    const vm = this;\n    const options = vm.$options;\n    el = document.querySelector(el);\n\n    if(!options.render) {\n      let template = options.template;\n      if(!template && el) {\n        template = el.outerHTML;\n      }\n      const render = compileToFunction(template);\n      options.render = render;\n    }\n  }\n}\n","import { initMixin } from \"./init\";\n\n\nfunction Vue(optons) {\n   this._init(optons);\n\n}\n\ninitMixin(Vue);\n\nexport default Vue;\n"],"names":["ncname","qnameCapture","endTag","RegExp","attribute","startTagOpen","startTagClode","parseHTML","html","root","currentParent","stack","createAstElement","tagName","attrs","tag","type","children","parent","start","element","push","chars","text","replace","end","pop","length","textEnd","indexOf","startTagMatch","parseStartTag","console","log","endTagMatch","match","advance","substring","attr","name","value","n","compileToFunction","template","ast","oldArrayProtoMethod","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","result","apply","inserted","ob","__ob__","slice","observeArray","Observer","defineProperty","enumerable","configurable","isArray","__proto__","walk","item","observe","data","keys","key","defineReactive","get","set","newValue","proxy","vm","initState","options","$options","props","initData","computed","watch","_data","call","initMixin","Vue","_init","optons","el","$mount","document","querySelector","render","outerHTML"],"mappings":"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"}